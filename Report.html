<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Report</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="Data.html">Data</a>
</li>
<li>
  <a href="EDA.html">EDA</a>
</li>
<li>
  <a href="new_regression.html">Regression</a>
</li>
<li>
  <a href="Report.html">Report</a>
</li>
<li>
  <a href="https://suzywwl.shinyapps.io/muisc/">Shiny App</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ozhengkun/p8105_final_project">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="mailto:yl5829@cumc.columbia.edu">
    <span class="fa fa-envelope"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Report</h1>

</div>


<style>
  body {
    background-color: #F4F6ED;
    color: #191414;
    font-family: 'Lato', sans-serif; 
  }

  h1, h2, h3 {
    color: #1DB954; 
    font-weight: bold;
  }

  p { font-size: 13px; }

  .section {
    background-color: white;
    border-radius: 10px; 
    padding: 20px; 
    margin: 20px auto; 
    max-width: 900px; 
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
</style>
<div class="section">
<h1>
Motivations
</h1>
<p>
<p>Music has always been a universal language, captivating audiences
across the globe. In today’s streaming era, platforms such as Spotify
and YouTube have revolutionized how we access and consume music,
offering millions of tracks to listeners worldwide. This makes it
crucial to explore what differentiates popular tracks from those that
are not popular. The <a
href="https://www.kaggle.com/datasets/joebeachcapital/30000-spotify-songs">“30,000
Spotify Songs”</a> dataset from Kaggle provides a rich source of data,
including various musical features such as danceability, key, energy,
loudness, and popularity scores.</p>
The primary motivation for this analysis is to uncover the relationship
between various musical characteristics and song popularity. Using
detailed data on features like danceability, energy, and loudness, we
aim to explore how these elements contribute to the success of a song.
While some features can show clear patterns with popularity, others may
have subtler or more complex influences. By examining these variables
collectively through regression analysis, we seek to identify the key
factors that drive listener preferences and understand how different
features interact to shape a song’s appeal. This analysis can offer
valuable insights for musicians and industry professionals seeking to
create music that is loved by a wide audience.
</p>
</div>
<div class="section">
<h1>
Data
</h1>
<h2>
Data Source
</h2>
<p>
The dataset contains detailed audio features and metadata for 30,000
songs. The dataset includes variables such as track popularity,
danceability, energy, loudness, tempo, and more, along with their
respective popularity score calculated by Spotify.
</p>
<h2>
Data Cleaning
</h2>
<p>
<p>The raw dataset comprised 32,833 songs with 23 variables. To prepare
the data for analysis, several cleaning steps were performed. First,
duplicate entries in the track_id column were removed to ensure
uniqueness of each song. Then, columns of unique identifiers unrelated
to the analysis were dropped to streamline the dataset.</p>
<p>Since there were some missing data in the track_album_release_date
column, a new column track_album_release_year was created to extract
only the release year for consistency.</p>
Relevant variables were converted to factors for proper categorization,
and the danceability and energy variables were rescaled to a range of
0-100 to enhance their impact on visualizations. Finally, the data was
cleaned according to the data dictionary to ensure consistency and
accuracy across the dataset. These cleaning steps ensured a consistent
and reliable dataset for exploring the relationships between musical
characteristics and popularity.
</p>
</div>
<div class="section">
<h1>
Exploratory Data Analysis
</h1>
<h2>
Popularity Distribution
</h2>
<p>
The distribution of track popularity shows that the data contains a
significant number of songs with a popularity score of zero. This
anomaly could arise from missing or incomplete data or limited reach.
This can potentially obscure patterns by emphasizing songs with no
engagement. Since in the exploratory analysis, we aim to gain a clearer
understanding of trends among tracks with actual listener engagement,
songs with a zero popularity score were excluded. Out of the 6 genres,
genres such as rap and pop were shown to be released the most during the
data collection time frame, while latin and r&amp;b were released less.
</p>
<h3>
Danceability
</h3>
<p>
Danceability, a measure of how suitable a song is for dancing, is shown
to have weak or no correlation with popularity. While danceable tracks
are popular within certain genres, this attribute alone does not
universally drive listener preference.
</p>
<h3>
Energy
</h3>
<p>
<p>Energy levels reflect the intensity and impact of a song. Most tracks
in the data have moderate to high energy levels, suggesting creators’
preference for lively and engaging music.</p>
<p>Genres like edm and pop tend to have the highest energy levels, while
r&amp;b and latin exhibit broader variability.</p>
Clustering analysis indicates that songs with extreme energy levels
(high or low) are significantly more popular than those with moderate
energy, with high energy songs being the most popular.
</p>
<h3>
Key and Mode
</h3>
<p>
<p>The key and mode of songs subtly contribute to the emotional tone.
The distribution of key shows no dominant key, although C#/Db appears
slightly more frequently, particularly in pop and r&amp;b.</p>
Analysis of mode shows that more songs are composed in the major mode.
Songs written in major mode show a slightly higher popularity than the
minor mode, reinforcing its preference among listeners.
</p>
<h3>
Loudness
</h3>
<p>
Loudness is how intense a song feels to the listener. Higher loudness
can create excitement, while lower loudness may contribute to more
intimate or reflective tracks.Similar to danceability there is no strong
correlation between loudness and popularity.
</p>
<h3>
Duration
</h3>
<p>
<p>Song duration was analyzed by categorizing tracks into short, medium,
and long durations based on the 25th and 75th percentiles.</p>
<p>Shorter songs have a slightly higher median popularity, likely due to
their digestibility and alignment with modern consumption habits.
Long-duration songs show greater variability in popularity, suggesting
they appeal more to niche audiences.</p>
Genre-specific analysis reveals exceptions as rap and rock do not
exhibit significant popularity differences across different durations.
</p>
<p>
The EDA reveals that no single feature guarantees popularity. Instead,
popularity arises from a combination of attributes tailored to audience
preferences and genre characteristics. Pop and rap dominate due to their
broad appeal, while features like high energy and danceability enhance
engagement. However, nuanced factors such as key, mode, and duration
also play important roles in shaping listener experiences. Future
regression analysis will provide deeper insights into how these
variables collectively drive song popularity.
</p>
</div>
<div class="section">
<h1>
Regression analysis on Song Popularity
</h1>
<p>
The regression analysis aimed to identify the relationships between song
attributes and popularity by identifying key predictors, and exploring
transformations and simplification.
</p>
<div>
<h2>
Identifying Key Predictors
</h2>
<h4>
Multiple Linear Regression
</h4>
<p>
A multiple linear regression model was applied with song popularity as
the dependent variable and various song attributes as predictors. The
predictors were selected based on data preprocessing and domain
knowledge. The final model included features like danceability, energy,
loudness, acousticness, and categorical variables such as playlist genre
and key.
</p>
<h4>
Key Results
</h4>
<p>
<strong>Danceability</strong> (β=0.098, p&lt;0.001): Songs with higher
danceability scores were more likely to be popular, with a small but
significant positive effect.
</p>
<p>
<strong>Energy</strong> (β=−0.230, p&lt;0.001): Higher energy levels
were associated with lower popularity.
</p>
<p>
<strong>Loudness</strong> (β=1.305, p&lt;0.001): Louder songs were more
likely to be more popular.
</p>
<p>
<strong>Acousticness</strong> (β=5.250, p&lt;0.001): More acoustic songs
were more likely to be more popular.
</p>
<p>
<strong>Instrumentalness</strong> (β=−6.222, p&lt;0.001): Instrumental
tracks are less likely to be popular.
</p>
<h4>
Playlist Genre
</h4>
<p>
<strong>Pop</strong> (β=12.468, p&lt;0.001) and <strong>Rock</strong>
(β=11.025, p&lt;0.001) genres showed the strongest positive associations
with popularity.
</p>
<p>
Other genres such as <strong>Latin</strong> (β=7.822, p&lt;0.001) and
<strong>Rap</strong> (β=7.469, p&lt;0.001) also had notable positive
effects.
</p>
<h4>
Model Diagnostics
</h4>
<p>
Minor violations of linear regression assumptions were observed:
</p>
<ul>
<li>
<strong>Homoscedasticity:</strong> Some heteroscedasticity was observed
in residual plots.
</li>
<li>
<strong>Normality:</strong> Residuals were approximately normal, with
slight deviations at the tails.
</li>
<li>
<strong>Influential Observations:</strong> A few data points had high
leverage, suggesting potential influence on model estimates.
</li>
</ul>
<p>
Despite these minor issues, the linear regression model captured
significant linear relationships between song attributes and popularity.
</p>
<h4>
Random Forest Analysis
</h4>
<p>
To account for potential non-linear relationships, a random forest model
was used. The model achieved an RMSE of 20.75, suggesting competitive
performance compared to the linear model.
</p>
<p>
Key findings include:
</p>
<ul>
<li>
<strong>Track Release Year:</strong> The most influential predictor,
highlighting the relevance of song age in determining popularity.
</li>
<li>
<strong>Playlist Genre:</strong> The second most important variable,
underscoring the genre’s impact.
</li>
<li>
<strong>Loudness and Energy:</strong> Significant contributors,
consistent with the linear model.
</li>
<li>
<strong>Instrumentalness:</strong> Important in distinguishing popular
tracks, aligning with regression results.
</li>
</ul>
<p>
The random forest model provided additional insights into non-linear
relationships and confirmed the importance of key predictors identified
in the linear regression model.
</p>
</div>
<div>
<h2>
Exploring Transformations and Simplification
</h2>
<h4>
Distribution Transformation
</h4>
<p>
To improve predictive power and address potential heteroscedasticity,
several methods were applied to transform the track popularity variable:
</p>
<ul>
<li>
<strong>Log Transformation:</strong> Reduced skewness and stabilized
variance.
</li>
<li>
<strong>Square Root Transformation:</strong> Useful for moderate
skewness, providing a balanced transformation.
</li>
<li>
<strong>Box-Cox Transformation:</strong> Optimized normality and
homoscedasticity.
</li>
</ul>
<p>
These transformations were evaluated to determine their effect on
predictive accuracy and overall model performance. The lambda was close
to 1, suggesting that the original model might be better.
</p>
<p>
From RMSE scores:
</p>
<ul>
<li>
The untransformed model achieved the lowest RMSE (22.06).
</li>
<li>
Log and square root transformations substantially increased RMSE.
</li>
<li>
Box-Cox transformation resulted in an RMSE of 29.10, higher than the
original model but lower than the log and square root transformations.
</li>
</ul>
<p>
These findings suggest the original scale best captures the
relationships, and transformations do not provide a performance
advantage.
</p>
<h2>
Lasso Regression
</h2>
<p>
To improve the predictive accuracy and interpretability, Lasso
regression was employed. By applying an L1 penalty, Lasso performed both
variable selection and regularization.
</p>
<p>
Key outcomes:
</p>
<ul>
<li>
Optimal regularization parameter: 0.0449, balancing explanatory power
and preventing overfitting.
</li>
<li>
The Lasso model’s RMSE on the test set was approximately 19.61, better
than the original model.
</li>
<li>
Five predictors, primarily related to playlist genres (R&amp;B, rap,
rock) and musical keys (D and D#/Eb), were eliminated.
</li>
</ul>
<p>
This simplification suggests these variables do not contribute
meaningful explanatory value. By focusing on the most informative
features, Lasso enhances the predictive framework’s quality.
</p>
</div>
</div>
<div class="section">
<h1>
Discussion
</h1>
<h4>
Conclusion
</h4>
<p>
This analysis explored the relationship between musical characteristics
and song popularity using the “30,000 Spotify Songs” dataset. From the
exploratory data analysis and regression analysis, it was revealed that
attributes such as danceability, energy, loudness, acousticness, and
instrumentalness significantly influenced a song’s popularity.
Danceability, loudness, and acousticness had positive relationships with
popularity, while energy and instrumentalness exhibited negative
correlations. Genre played a significant role, with pop and rock tracks
being the most impactful, with rap and Latin genres also having notable
positive effects. Temporal features, or the track release year were
influential, reinforcing that newer music determines popularity
trends.Random forest analysis complemented the linear model to reaffirm
the importance of attributes like playlist genre, loudness, and energy.
</p>
<h4>
Limitations
</h4>
<p>
Despite these findings, the study had several limitations. First, the
dataset contained a significant number of songs with zero popularity
scores, which likely skewed results. This could indicate underlying
biases in the data collection process or limited engagement metrics.
Additionally, minor violations of linear regression assumptions, such as
heteroscedasticity may indicate areas where modeling accuracy could be
improved. Finally, the dataset emphasized Western musical genres and
streaming data, which limits the generalizability of findings to other
cultural contexts.
</p>
<h4>
Next Steps
</h4>
<p>
<p>Future research can address these limitations by refining the dataset
to include only tracks with actual listener engagement and include more
diverse genres and cultural influences. Advanced modeling techniques
such as neural networks can be employed to improve predictions.
Integrating external features such as artist popularity or marketing
efforts would allow a more nuanced analysis. By addressing these
limitations and expanding the analysis, future work can provide even
more comprehensive insights into the dynamics of music popularity in the
streaming era.</p>
</p>
</div>
<p><a href="index.html">Back to Home</a></p>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
